{"version":3,"file":"bundle.js","mappings":"mBAAO,MAAMA,EAaO,CAACC,EAAMC,EAAOC,EAAU,MACxC,IAAIC,EAAOH,EAAO,IAAMC,EAExB,IAAK,MAAMG,KAAaC,OAAOC,KAAKJ,GAClCC,GAAQ,KAAOC,EAAY,IAAMF,EAAQE,GAG3CG,SAASC,OAASL,GClBhBM,EAAQF,SAASG,MAAMD,MACvBE,EAAOJ,SAASK,cAAc,MAI9BC,GAHeC,KAAKC,kBACJD,KAAKE,iBAEb,IAERC,EAAa,CAClBC,MAAQjB,IAAWA,EAAMkB,SAAS,KAClCC,SAAWnB,IAAU,EACpBoB,QAAUC,IAAaA,GAGnBC,EAAS,CACdL,OAAO,EACPE,UAAU,EACTC,SAAS,GAoCLV,EAAKH,OAQTC,EAAMe,iBAAiB,UAzCHC,IACrB,MAAM,KAAEC,EAAI,KAAE1B,EAAI,MAAEC,EAAK,QAAEqB,GAAYG,EAAME,OAG5Cd,EAAMb,GADF,aADG0B,EAEOJ,EAIArB,EAIfsB,EAAOvB,GAAQA,KAAQiB,GAAaA,EAAWjB,GAAMa,EAAMb,GAAOa,GAElEY,EAAMG,cAAcC,UAAUC,SAAWzB,OAAOC,KAAKiB,GAAQQ,MAAKC,GAAOT,EAAOS,QA4B/EvB,EAAMe,iBAAiB,UA1BHC,IACrBA,EAAMQ,iBACN,MAAMzB,EAAST,EAAiB,QAAS,oBAAqB,CAAC,UAAW,MAAW,KAAQ,MAC7F,IAAImC,EAAQ,GAEZ,IAAK,MAAMC,KAAY9B,OAAO+B,oBAAoBvB,GAAQ,CAC3CA,EAAMsB,GAApB,MACME,EAAO9B,SAAS+B,iBAAiB,QAClCJ,EAAMK,QAAS,IACnBF,EAAKG,UAAYhC,EAChB0B,EAAMO,KAAKJ,IAGd1B,EAAK+B,mBAAmBR,O","sources":["webpack://hw_23-mytnyk_dm/./src/utils.js","webpack://hw_23-mytnyk_dm/./src/index.js"],"sourcesContent":["export const COOKIE = (() => { \r\n  const getCookie = (name) => {\r\n    for (const pair of document.cookie.split(';')) {\r\n      const match = `${name}=`;\r\n      \r\n      if (pair.trim().startsWith(match)) {\r\n        return pair.trim().slice(match.length);\r\n      }\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  const setCookie = (name, value, options = {}) => {\r\n    let pair = name + '=' + value;\r\n\r\n    for (const optionKey of Object.keys(options)) {\r\n      pair += '; ' + optionKey + '=' + options[optionKey];\r\n    }\r\n\r\n    document.cookie = pair;\r\n  };\r\n \r\n  return {\r\n    setCookie,\r\n  };\r\n})();","import {COOKIE} from './utils.js';\r\n\r\nconst login = document.forms.login;\r\nconst user = document.querySelector('h2');\r\nconst loginSection = root.firstElementChild;\r\nconst hiddenSection = root.lastElementChild;\r\n\r\nconst state = { };\r\n\r\nconst validation = {\r\n\temail: (value) => !value.includes('@'),\r\n\tpassword: (value) => !'admin',\r\n  consent: (checked) => !checked,\r\n};\r\n\r\nconst errors = {\r\n\temail: true,\r\n\tpassword: true,\r\n  consent: true\r\n};\r\n\r\nconst handleChange = (event) => {\r\n\tconst { type, name, value, checked } = event.target;\r\n\tswitch (type) {\r\n\tcase 'checkbox':\r\n\t\tstate[name] = checked;\r\n\t\tbreak;\r\n\t\r\n\tdefault:\r\n\t\tstate[name] = value;\r\n\t\tbreak;\r\n\t}\r\n\r\n\terrors[name] = name in validation ? validation[name](state[name], state) : false;\r\n\r\n\tevent.currentTarget.submitBtn.disabled = Object.keys(errors).some(key => errors[key]);\r\n};\r\nconst handleSubmit = (event) => {\r\n\tevent.preventDefault();\r\n\tconst cookie = COOKIE.setCookie('email', 'admin@example.com', {'max-age': 60*60*24,  'path': '/' });\r\n\tlet nodes = [];\r\n\r\n\tfor (const stateKey of Object.getOwnPropertyNames(state)) {\r\n\t\tconst value = state[stateKey];\r\n\t\tconst span = document.querySelectorAll('span');\r\n\t\t\tif (nodes.length <=1) {\r\n\t\t\tspan.innerText = cookie;\r\n\t\t\t\tnodes.push(span);\r\n\t\t}\r\n\t}\r\n\tuser.replaceChildren(...nodes);\r\n};\r\n\r\n\tconst isCookieExist = () => {\r\n\t\tif (user.cookie) {\r\n\t\t\treturn hiddenSection;\r\n\t\t} else {\r\n\t\t\treturn loginSection;\r\n\t\t}\r\n\t};\r\n  isCookieExist();\r\n\r\n  login.addEventListener('change', handleChange);\r\n  login.addEventListener('submit', handleSubmit);\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["COOKIE","name","value","options","pair","optionKey","Object","keys","document","cookie","login","forms","user","querySelector","state","root","firstElementChild","lastElementChild","validation","email","includes","password","consent","checked","errors","addEventListener","event","type","target","currentTarget","submitBtn","disabled","some","key","preventDefault","nodes","stateKey","getOwnPropertyNames","span","querySelectorAll","length","innerText","push","replaceChildren"],"sourceRoot":""}